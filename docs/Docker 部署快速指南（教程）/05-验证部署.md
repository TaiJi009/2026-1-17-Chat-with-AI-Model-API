# 05-验证部署

## 步骤说明

这是快速开始的第五步：验证部署是否成功，确保所有服务正常运行。

## 检查服务状态

查看所有容器的运行状态：

```bash
docker-compose ps
```

应该看到两个容器都在运行（状态为 `Up`）：
- `chat_app_postgres`
- `chat_app_backend`

## 检查健康状态

### 方法1：使用 curl 命令

```bash
curl http://localhost:3000/health
```

如果返回类似以下内容，说明服务正常：

```json
{"status":"ok"}
```

### 方法2：在浏览器中访问

打开浏览器，访问：

```
http://localhost:3000/health
```

应该看到 JSON 格式的健康检查响应。

## 查看日志

查看服务日志，确认没有错误：

```bash
# 查看所有服务日志
docker-compose logs -f

# 只查看后端日志
docker-compose logs -f backend

# 只查看数据库日志
docker-compose logs -f postgres
```

## 验证数据库连接

测试数据库是否可以正常连接：

```bash
docker-compose exec postgres psql -U user -d chat_app -c "SELECT version();"
```

应该显示 PostgreSQL 版本信息。

## 部署成功标志

如果以下所有检查都通过，说明部署成功：

- [x] 容器状态为 `Up`
- [x] 健康检查返回正常响应
- [x] 日志中没有错误信息
- [x] 数据库可以正常连接

## 下一步

部署验证成功后，你可以：

- 查看 [06-常用命令](./06-常用命令.md) 了解日常管理命令
- 查看 [07-生产环境部署](./07-生产环境部署.md) 了解生产环境部署方式
- 查看 [08-故障排查](./08-故障排查.md) 了解常见问题解决方案
