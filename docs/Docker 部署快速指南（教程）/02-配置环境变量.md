# 02-配置环境变量

## 步骤说明

这是快速开始的第二步：配置环境变量文件。

## 创建环境变量文件

1. 进入项目后端目录：

```bash
cd backend
```

2. 创建 `.env` 文件（如果已有 `env.example.txt`，可以复制它）：

```bash
# 如果有示例文件
cp env.example.txt .env

# 或者直接创建新文件
touch .env
```

3. 编辑 `.env` 文件，填入所有配置

## 必需配置

在 `.env` 文件中配置以下内容：

```env
# 数据库配置
DB_USER=user
DB_PASSWORD=your-password
DB_NAME=chat_app
DB_HOST=postgres
DB_PORT=5432

# JWT配置
JWT_SECRET=your-secret-key
JWT_EXPIRES_IN=7d

# 微信支付配置
WECHAT_APP_ID=your-app-id
WECHAT_MCH_ID=your-merchant-id
WECHAT_API_KEY=your-api-key
WECHAT_NOTIFY_URL=https://your-domain.com/api/payment/wechat/callback
WECHAT_SANDBOX=false

# 腾讯云短信配置
TENCENT_SMS_SECRET_ID=your-secret-id
TENCENT_SMS_SECRET_KEY=your-secret-key
TENCENT_SMS_APP_ID=your-sms-app-id
TENCENT_SMS_SIGN_NAME=your-sign-name
TENCENT_SMS_TEMPLATE_ID=your-template-id

# 服务器配置
PORT=3000
NODE_ENV=production
CORS_ORIGIN=http://localhost:5173,https://your-frontend-domain.com
```

## 重要提示

1. **数据库密码**：`DB_PASSWORD` 必须使用强密码，不要使用默认值 "password"
2. **JWT密钥**：`JWT_SECRET` 必须至少32个字符的随机字符串
3. **微信支付和短信**：如果暂时不需要这些功能，可以先用占位符，但必须填写所有字段
4. **CORS配置**：`CORS_ORIGIN` 可以配置多个域名，用逗号分隔

## 下一步

配置完成后，继续下一步：[03-启动服务](./03-启动服务.md)
